## Глобальные возможности

### Основные режимы работы

1. **Диаграмма Ганта** — временная шкала задач с полным редактированием
2. **Сетевой график (PERT)** — визуализация зависимостей между задачами
3. **Структура декомпозиции работ (WBS)** — иерархическое дерево задач
4. **Гантт отслеживания** — сравнение базового плана с текущим состоянием (только чтение)
5. **Лист задач** — табличное представление всех задач
6. **Лист ресурсов** — табличное представление ресурсов
7. **Отчёты** — система отчётности по проекту

### Работа с файлами

1. Создание нового проекта
2. Открытие проекта из файла .pod
3. Сохранение проекта
4. Сохранение проекта как...
5. Drag-and-Drop файлов .pod в окно приложения Windows

### Навигация и интерфейс

1. Переключение между представлениями через боковую панель
2. Адаптивный двухуровневый заголовок (TwoTierHeader)
3. Контекстные меню для быстрого доступа к действиям
4. Система помощи с описаниями для каждого представления
5. Поддержка языков: русский, английский

### Системные функции

1. Обработка ошибок с изоляцией по представлениям (ErrorBoundary)
2. Синхронизация состояния между Frontend (TypeScript) и Java Core
3. Проверка совместимости с Windows и Linux
4. Информационные диалоги для ошибок и предупреждений
5. Валидация данных перед сохранением

## Диаграмма Ганта

### Отображение задач

1. Визуализация задач на временной шкале
2. Автоматическое отображение суммарных задач (summary tasks)
3. Отображение вех (milestones) в виде ромбов
4. Индикация критического пути красным цветом
5. Отображение прогресса выполнения (progress bar внутри задачи)
6. Цветовая кодировка задач
7. Отображение сегментов задач (split tasks)
8. Иерархическое отображение задач с отступами (уровни)

### Временная шкала

1. Режимы масштаба: День / Неделя / Месяц
2. Навигация по времени: Назад / Вперед (стрелки)
3. Выбор даты через DatePicker
4. Автоматическая синхронизация с минимальной датой проекта
5. Ограничение навигации диапазоном проекта (minDate/maxDate)
6. Отображение текущей даты (вертикальная линия "сегодня")

### Масштабирование и вид

1. Увеличение масштаба (Zoom In)
2. Уменьшение масштаба (Zoom Out)
3. Сброс масштаба (Fit to Screen)
4. Вертикальная синхронизация скролла между таблицей и диаграммой

### Редактирование задач

1. Добавление новой задачи (кнопка + или Insert)
2. Удаление задачи (контекстное меню или Delete)
3. Изменение длительности задач
4. Перемещение задачи во времени перетаскиванием
5. Изменение прогресса выполнения перетаскиванием handle внутри задачи
6. Двойной клик для открытия диалога свойств задачи

### Иерархия задач

1. Увеличение отступа (Indent) — сделать подзадачей
2. Уменьшение отступа (Outdent) — поднять на уровень выше
3. Преобразование в суммарную задачу
4. Диалог подтверждения при преобразовании в summary task
5. Валидация иерархии (нельзя сделать indent без parent'а выше)

### Связи задач (зависимости)

1. Режим связывания задач (Link Mode)
   - Активация через контекстное меню: "Связать задачи"
   - Выбор задачи-предшественника (predecessor)
   - Визуальная индикация доступных задач
   - Отключение недопустимых связей с объяснением причины
   - Отмена режима связывания (кнопка Cancel или Esc)

2. Отображение связей
   - Линии зависимостей между задачами
   - Цветовая индикация: критический путь красный
   - Стрелки направления зависимости

3. Удаление связей
   - Через контекстное меню: "Разорвать связи"
   - Удаляются все predecessors задачи

### Специальные функции

1. **Критический путь (CPM)**
   - Включение/выключение расчёта (кнопка Pulse с иконкой Activity)
   - Визуальное выделение критических задач красным цветом
   - Автоматический пересчёт при изменении задач

2. **Базовый план (Baseline)**
   - Создание базового плана (кнопка Pin)
   - Сравнение plan vs actual

3. **Веха (Milestone)**
   - Переключение задачи в веху через контекстное меню
   - Визуализация вехи ромбом вместо полосы
   - Автоматическое нулевое время выполнения

### Контекстное меню задачи

1. Информация о задаче (Task Info) — открыть диалог свойств
2. Сделать вехой / Сделать обычной задачей
3. Связать задачи — включить режим связывания
4. Разорвать связи — удалить все predecessors
5. Прервать задачу — split task (если включено)
6. Увеличить отступ — сделать подзадачей
7. Уменьшить отступ — поднять уровень
8. Переместить вверх
9. Переместить вниз
10. Удалить задачу

### Панель управления (Toolbar)

1. Счётчик задач
2. Переключатель режимов масштаба (День/Неделя/Месяц)
3. Навигация: Назад / Вперёд (со статусом enabled/disabled)
4. Выбор даты (DatePicker с ограничениями min/max)
5. Zoom In / Zoom Out / Reset Zoom
6. Настройки диаграммы (Settings)
7. Сохранить базовый план (Pin)
8. Пульс — критический путь (Activity)

## Сетевой график (PERT)

### Визуализация узлов

1. Отображение задач в виде узлов (прямоугольники)
2. Типы узлов:
   - Обычная задача
   - Суммарная задача
3. Индикация критического пути (красная заливка узлов)
4. Отображение прогресса выполнения (progress bar внутри узла)
5. Информация в узле:
   - Название задачи
   - Длительность (X дн.)
   - Даты начала и окончания

### Связи между узлами

1. Отображение линий зависимостей (стрелки)
2. Цветовая индикация: критические связи красные, обычные серые
3. Автоматическое построение путей между узлами

### Иерархия и группировка

1. Отображение иерархии (parent-child)
2. Сворачивание/разворачивание суммарных задач
3. Скрытие дочерних узлов при сворачивании группы
4. Визуальная индикация свёрнутой группы (иконка со стрелкой)

### Интерактивность

1. Перетаскивание узлов (Drag & Drop)
2. Двойной клик на узле — открыть диалог свойств задачи
3. Создание связей перетаскиванием из одного узла в другой
4. Валидация связей:
   - Запрет связи задачи с самой собой
   - Запрет связывания суммарных задач
   - Запрет циклических зависимостей (parent-child)
   - Диалог с объяснением при блокировке связи

### Масштабирование

1. Увеличение масштаба (Zoom In, кнопка +)
2. Уменьшение масштаба (Zoom Out, кнопка -)
3. Сброс масштаба (кнопка Maximize2)
4. Плавное масштабирование от 0.5x до 2x

### Дополнительные функции

1. Добавление новой задачи (кнопка +)
2. Автоматическая раскладка узлов (Auto Layout) — сброс позиций
3. Footer с подсказками:
   - Легенда: критический путь (красный), обычная задача

### Диалоги

1. Диалог блокировки связи (ConnectionBlockedDialog):
   - Объяснение причины блокировки
   - Типы причин: self_link, summary_task, parent_child
   - Названия задач, которые пытались связать

## Структура декомпозиции работ (WBS)

### Визуализация дерева

1. Иерархическое отображение задач в виде дерева
2. Узлы с информацией:
   - Название задачи
   - Длительность (X дн.)
   - Прогресс выполнения (progress bar)
   - Даты начала и окончания
3. Цветовая индикация:
   - Критические задачи
   - Обычные задачи
   - Суммарные задачи
4. Линии связи между parent и children

### Иерархия

1. Автоматический расчёт кодов WBS
2. Построение иерархии на основе уровней (level)
3. Определение parent-child отношений
4. Сворачивание/разворачивание узлов (клик на узел с детьми)
5. Скрытие дочерних узлов при сворачивании

### Масштабирование

1. Увеличение масштаба (Zoom In, кнопка +)
2. Уменьшение масштаба (Zoom Out, кнопка -)
3. Сброс масштаба (кнопка Maximize)
4. Плавное масштабирование от 0.5x до 2x

### Дополнительные функции

1. Добавление новой задачи (кнопка +)
2. Экспорт СДР в изображение PNG:
   - Диалог выбора пути сохранения
   - Высокое качество (масштаб 2x)
   - Автоматическое имя файла с датой

## Гантт отслеживания

**Назначение:** Представление создано исключительно для отслеживания прогресса проекта и сравнения с базовым планом (baseline).

**Ограничения:**

- ❌ **Редактирование запрещено** — режим только для чтения (read-only)
- ❌ Нельзя изменять задачи, даты, зависимости
- ❌ Нельзя добавлять или удалять задачи

## Лист задач

### Табличное представление

1. Таблица всех задач проекта
2. Колонки (настраиваемые):
   - ID задачи
   - Название
   - Дата начала
   - Дата окончания
   - Длительность
   - Прогресс (%)
   - Предшественники
   - Резерв

### Редактирование

1. Inline-редактирование ячеек (клик для редактирования)
2. Валидация введённых данных
3. Автосохранение изменений
4. Обработка конфликтов дат

### Управление задачами

1. Добавление новой задачи (кнопка +)
2. Удаление задачи (контекстное меню или клавиша Delete)
3. Множественный выбор задач

### Экспорт данных

1. Экспорт таблицы в CSV (Excel)
2. Диалог выбора пути сохранения
3. Автоматическое имя файла с датой
4. Сохранение всех колонок таблицы

## Лист ресурсов

### Табличное представление

1. Таблица всех ресурсов проекта
2. Колонки (настраиваемые):
   - ID ресурса
   - Название
   - Тип (Work / Material / Cost)
   - Максимальная загрузка (Max Units, %)
   - Стандартная ставка
   - Календарь
   - Группа
### Редактирование

1. Редактирование ячеек
2. Валидация данных ресурсов
3. Автосохранение изменений
4. Конвертация процентов загрузки (units): отображение в % (100%), хранение как коэффициент (1.0)

### Управление ресурсами

1. Добавление нового ресурса (кнопка +)
2. Удаление ресурса (контекстное меню)

### Экспорт данных

1. Экспорт таблицы в CSV (Excel)
2. Диалог выбора пути сохранения
3. Автоматическое имя файла с датой

### Управление календарями

1. Кнопка "Календари" — открыть Calendar Manager
2. Просмотр всех календарей
3. Редактирование рабочих часов календаря
4. Назначение календаря ресурсу

## Использование задач

**Назначение:** Раздел "Анализ" — детальная статистика и анализ использования задач в проекте.

### Статистические карточки

1. **Всего активных задач** — общее количество задач в проекте
2. **Завершённые задачи** — количество задач со статусом "Завершено" (прогресс 100%)
3. **В процессе** — задачи с прогрессом от 1% до 99%
4. **Не начаты** — задачи с прогрессом 0%

### Таблица использования задач

1. **Колонки таблицы:**
   - Название задачи
   - Дата начала
   - Дата окончания
   - Длительность (в днях)
   - Процент завершения
   - Назначенные ресурсы

2. **Редактирование:**
   - Редактирование названия задачи
   - Изменение процента завершения
   - Изменение дат начала и окончания
   - Управление назначениями ресурсов

3. **Операции с задачами:**
   - Добавление новой задачи (кнопка +)
   - Удаление задачи (контекстное меню)
   - Открытие диалога свойств задачи (ПКМ - Информация о задаче)

### Экспорт данных

1. Экспорт таблицы в CSV (Excel)
2. Диалог выбора пути сохранения
3. Автоматическое имя файла с датой (`TaskUsage_YYYY-MM-DD.csv`)
4. Сохранение всех колонок таблицы

### Функционал

- Автоматический расчёт длительности задач
- Маппинг назначенных ресурсов (имена через запятую)
- Сортировка и фильтрация данных

## Использование ресурсов

**Назначение:** Раздел "Анализ" — детальная статистика загрузки ресурсов и визуализация распределения работ.

### Статистические карточки

1. **Доступные ресурсы** — количество ресурсов с загрузкой < 100%
2. **Занятые ресурсы** — ресурсы с загрузкой от 1% до 100%
3. **Перегруженные ресурсы** — ресурсы с загрузкой > 100% которые правильно не распределены

### Таблица использования ресурсов

1. **Колонки таблицы:**
   - Название ресурса
   - Назначенно %
   - Доступно %
   - Статус ресурса
   - Нагрузка

2. **Редактирование:**
   - редактирование названия ресурса
   - Процент загрузки — только для чтения (вычисляемое поле)

3. **Операции с ресурсами:**
   - Добавление нового ресурса (кнопка +)
   - Удаление ресурса (контекстное меню)
   - Клик по строке — выбор ресурса для гистограммы

### Гистограмма загрузки ресурса

1. **Визуализация:**
   - Столбчатая диаграмма загрузки по дням
   - Динамический диапазон дат (автоматически подстраивается под задачи ресурса)

2. **Цветовая индикация:**
   - Чёрный — нормальная загрузка (≤ 100%)
   - Красный — перегрузка (> 100%)

3. **Расчёт загрузки:**
   - Учитывает все назначенные задачи
   - Учитывает процент загрузки каждого назначения
   - Учитывает пересечения задач по датам

### Экспорт данных

1. Экспорт таблицы в CSV (Excel)
2. Диалог выбора пути сохранения
3. Автоматическое имя файла с датой (`ResourceUsage_YYYY-MM-DD.csv`)

### Функционал

- Автоматический расчёт процента загрузки ресурсов
- Выбор ресурса в таблице для отображения его гистограммы
- Динамическое обновление гистограммы при изменении данных

## Календарь

### Отображение календаря

1. **Сетка календаря:**
   - Месячная сетка (7 столбцов × строки)
   - Заголовок с днями недели (Пн-Вс)
   - Отображение задач на соответствующих датах

2. **Визуализация задач:**
   - Задачи отображаются как цветные карточки
   - Информация в карточке:
     - Название задачи
     - Цвет задачи (левая граница)
     - Индикатор прогресса выполнения

3. **Индикация дней:**
   - Выделение текущего дня
   - Отображение нерабочих дней (серый фон)
   - Номера дней месяца

### Навигация

1. Переключение месяцев: кнопки "Назад" / "Вперёд" (стрелки)
2. Кнопка "Сегодня" (Today) — быстрый переход к текущей дате
3. Отображение текущего месяца и года в заголовке

### Интерактивность

1. **Клик по задаче** — открыть диалог свойств задачи (5 вкладок)
2. **Drag & Drop задач:**
   - Перетаскивание задачи между датами
   - Автоматический пересчёт дат начала/окончания
   - Проверка конфликтов с ограничениями (Constraints)
   - Диалог подтверждения при конфликтах

3. **Контекстное меню на задаче** (правый клик):
   - Показать свойства задачи
   - Удалить задачу

### Управление задачами

1. Добавление новой задачи (кнопка +)
2. Редактирование задачи (двойной клик или диалог свойств)
3. Удаление задачи (контекстное меню)
4. Перемещение задачи во времени (Drag & Drop)

### Функционал

- Автоматическая генерация дней месяца с учётом начала недели
- Распределение задач по датам на основе startDate и endDate
- Обработка многодневных задач (задача отображается на всех днях)
- Диалоги конфликтов при изменении дат задач с ограничениями

## Отчёты

### Типы отчётов

1. **Сводка по проекту (Project Summary)** — общая статистика и метрики
2. **Критические задачи (Critical Tasks)** — список задач на критическом пути
3. **Использование ресурсов (Resource Usage)** — загрузка и назначение ресурсов
4. **Отчёт по вехам (Milestone Report)** — статус ключевых точек проекта
5. **Анализ затрат (Cost Analysis)** — детализация финансовых показателей

## Настройки

**Назначение:** Раздел "Система" — настройки приложения и пользовательских предпочтений.

### Вкладка "Общие"

Основные параметры приложения и пользователя.

1. **Персонализация:**
   - Имя пользователя
   - Название компании

2. **Представление по умолчанию:**
   - Выбор стартового представления при открытии проекта
   - Доступные варианты: Диаграмма Ганта, Сетевой график, WBS и др.

3. **Автосохранение:**
   - Интервал автосохранения (в минутах): 5 минут по умолчанию
   - Переключатель включения/выключения автосохранения

4. **Календарь по умолчанию:**
   - Выбор рабочего календаря для новых проектов
   - Доступные варианты: Пятидневка, Шестидневка и др.

5. **Локализация:**
   - Формат даты: ДД.ММ.ГГГГ, ММ/ДД/ГГГГ и др.
   - Язык интерфейса: Русский, English

6. **Валюта:**
   - Выбор валюты проекта: RUB (₽), USD ($), EUR (€)
   - Отображается в отчётах и листах ресурсов

7. **Стандартная ставка по умолчанию:**
   - Ставка для новых ресурсов (в час)
   - По умолчанию: 0 /ч

### Вкладка "Отображение"

Параметры внешнего вида и доступности.

1. **Подсказки:**
   - Показывать подсказки (tooltips) при наведении

2. **Контрастность:**
   - Высокая контрастность — для лучшей читаемости

3. **Шрифт интерфейса:**
   - Выбор шрифта: Inter (Современный) и др.

4. **Анимация интерфейса:**
   - Включение/выключение анимаций и переходов

5. **Размер шрифта:**
   - Слайдер: 12px — 24px
   - По умолчанию: 14px

6. **Акцентный цвет:**
   - Выбор основного цвета интерфейса (color picker)
   - Доступен HEX-код цвета

7. **Цветовые пресеты:**
   - Набор готовых цветовых схем для быстрого выбора

### Вкладка "Планирование"

Параметры автоматического расчёта и единицы измерения времени.

1. **Тип планирования по умолчанию:**
   - Фиксированные единицы (Fixed Units)
   - Фиксированная длительность (Fixed Duration)
   - Фиксированная работа (Fixed Work)

2. **Планирование от объёма работ (Effort driven):**
   - При включении добавление/удаление ресурсов не изменяет объём работы задачи

3. **Единицы измерения:**
   - Длительность вводится в: Дни, Часы, Недели и др.
   - Трудозатраты выводятся в: Часы, Дни, Недели и др.

4. **Новые задачи начинаются сегодня:**
   - При включении новые задачи получают стартовую дату = текущая дата
   - При выключении — используется минимальная дата проекта

5. **Соблюдать обязательные даты (Honor required dates):**
   - Влияет на поведение ограничений (Constraints)
   - При включении ограничения SNET, FNLT и др. строго соблюдаются

### Вкладка "Календарь"

Определение рабочих интервалов для конвертации времени.

1. **Часов в дне:**
   - Количество рабочих часов в одном дне
   - Используется при вводе "1д"
   - По умолчанию: 8 часов

2. **Часов в неделе:**
   - Количество рабочих часов в неделе
   - Используется при вводе "1н"
   - По умолчанию: 40 часов

3. **Дней в месяце:**
   - Количество рабочих дней в месяце
   - Используется при вводе "1мес"
   - По умолчанию: 20 дней

4. **Режим расчёта длительности:**
   - Календарное время (24ч/сутки): длительность считается в календарных сутках (24 часа)
   - Рабочие графики учитываются только на уровне ресурсов

### Вкладка "Редактирование"

Параметры поведения интерфейса при изменении данных.

1. **Автоматический пересчёт проекта:**
   - При включении изменения автоматически пересчитывают зависимые задачи и критический путь

2. **Разрешить прерывание задач:**
   - Возможность создавать сегменты задачи (Split Tasks)

3. **Подтверждать удаление объектов:**
   - Диалог подтверждения перед удалением задач/ресурсов

4. **Показывать линии зависимостей:**
   - Отображение стрелок связей на диаграмме Ганта

5. **Разрешить удаление задач:**
   - Глобальное разрешение/запрет на удаление задач

### Импорт/Экспорт настроек

Кнопки в Action Bar (правый верхний угол):

1. **Импорт:**
   - Загрузка настроек из JSON-файла
   - Применяет все сохранённые параметры к текущему приложению

2. **Экспорт:**
   - Сохранение всех настроек в JSON-файл
   - Автоматическое имя файла: `settings_YYYY-MM-DD.json`

### Функционал

- Все настройки сохраняются автоматически в localStorage
- Применение настроек в реальном времени (без перезагрузки)
- Валидация введённых значений
- Вкладочная навигация (5 вкладок: Общие, Отображение, Планирование, Календарь, Редактирование)

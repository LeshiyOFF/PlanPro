appId: com.prosystems.planpro
productName: ПланПро
directories:
  output: release
win:
  forceCodeSigning: false
  target:
    - target: nsis
      arch:
        - x64
  icon: assets/icon.ico
compression: maximum
asar: true
asarUnpack:
  - "**/*.jar"
  - "resources/jre/**/*"
  - "resources/*.dll"
  - "resources/*.exe"
files:
  - "dist-app/**/*"
  - "resources/**/*"
  - "package.json"
extraResources:
  - from: resources/jre
    to: jre
    filter:
      - "**/*"
  - from: projectlibre_build/dist
    to: java/lib-runtime
    filter:
      - projectlibre.jar
  - from: projectlibre_build/dist
    to: java/lib
    filter:
      - "**/*.jar"
  # CI build marker - отключает DevTools в production (создаётся только в GitHub Actions)
  - from: resources/.ci-build
    to: .ci-build
    filter:
      - ".ci-build"
extraMetadata:
  main: dist-app/electron/main.js
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
linux:
  icon: assets/icon.svg
  executableName: com.prosystems.planpro
  target:
    - deb
  category: Office
  maintainer: ООО Просистемы <info@prosystems.ru>
  synopsis: Профессиональное ПО для управления проектами
  description: ПланПро - система управления проектами для малого и среднего бизнеса
  desktop:
    Name: ПланПро
    Name[ru]: ПланПро
    GenericName: Project Management Software
    GenericName[ru]: Система управления проектами
    Comment: Управление проектами
    Comment[ru]: Управление проектами
    Icon: com.prosystems.planpro
    Categories: Office;ProjectManagement;
    StartupNotify: true
deb:
  depends:
    - libgtk-3-0
    - libnotify4
    - libnss3